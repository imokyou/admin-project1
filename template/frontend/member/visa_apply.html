{% extends "frontend/member/base.html" %}

{% block title %}资本国度-会员中心-设置{% endblock %}
{% block body %}
<!--middle-->
<div class="main_middle middle_box">
    <h2 class="middle_tit_h2">万事达卡申请</h2>
    <ul class="setting_ul mt30" style="padding-left:80px;">
        <li>
            <span>名</span>
            <input type="text" id="first_name" value="" name="first_name">
        </li>
        <li>
            <span>姓</span>
            <input type="text" id="last_name" value="" name="first_name">
        </li>
        <li>
            <span>年龄</span>
            <select id="age" name="age">
                <option value="18">18</option>
                <option value="19">19</option>
                <option value="20">20</option>
            </select>
        </li>
        <li>
            <span>电子邮件</span>
            <input type="text" id="email" value="" name="email">
        </li>
        <li>
            <span>手机号码</span>
            <input type="text" value="+86 " id="phone" name="phone">
        </li>
        <li>
            <span>身份证号码</span>
            <input type="text" id="id_card" value="" name="id_card"> 
        </li>

        <li class="mt30">
            <span></span>
            <h2>邮寄地址</h2>
        </li>
        <li>
            <span>地址</span>
            <input type="text" id="address" value="" name="address">
        </li>
        <li>
            <span>市</span>
            <input type="text" id="city" value="" name="city">
        </li>
        <li>
            <span>州/省</span>
            <input type="text" id="provincy" value="" name="provincy">
        </li>
        <li>
            <span>国家</span>
            <select id="country" name="country">
                <option value="China">中国</option>
                <option value="JP">日本</option>
                <option value="USA">美国</option>
            </select>
        </li>
        <li>
            <span>邮政编码</span>
            <input type="text" id="zip_code" value="" name="zip_code">
        </li>
        <!--<li>-->
            <!--<span>验证码</span>-->
            <!--<input class="w120" type="text">-->
            <!--<div class="verfiry_code"><img src="images/verfiry.png"></div>-->
        <!--</li>-->
        <li class="mt30">
            <span></span>
            <button class="btn_keep" onclick="apply()"></button>
        </li>
    </ul>
</div><!--end of middle-->

{% endblock %}

{% block script %}
<script type="text/javascript">
function apply() {
    var first_name = $('#first_name').val();
    var last_name = $('#last_name').val();
    var age = $('#age').val();
    var email = $('#email').val();
    var phone = $('#phone').val();
    var id_card = $('#id_card').val();
    var address = $('#address').val();
    var city = $('#city').val();
    var provincy = $('#provincy').val();
    var country = $('#country').val();
    var zip_code = $('#zip_code').val();

    if ($.trim(first_name) == '') {
        alert('请输入名');
        return false;
    }
    if ($.trim(last_name) == '') {
        alert('请输入姓');
        return false;
    }
    if ($.trim(age) == '') {
        alert('请选择年龄');
        return false;
    }
    if ($.trim(email) == '') {
        alert('请输入电子邮件');
        return false;
    }
    if ($.trim(phone) == '+86' || $.trim(phone) == '') {
        alert('请输入手机号码');
        return false;
    }
    if ($.trim(id_card) == '') {
        alert('请输入身份证号');
        return false;
    }
    if ($.trim(address) == '') {
        alert('请输入地址');
        return false;
    }
    if ($.trim(city) == '') {
        alert('请输入市');
        return false;
    }
    if ($.trim(provincy) == '') {
        alert('请输入州/省');
        return false;
    }
    if ($.trim(country) == '') {
        alert('请输入国家');
        return false;
    }
    if ($.trim(zip_code) == '') {
        alert('请输入邮政编码');
        return false;
    }
    var params = {
        first_name: first_name,
        last_name: last_name,
        age: age,
        email: email,
        phone: phone,
        id_card: id_card,
        address: address,
        city: city,
        provincy: provincy,
        country: country,
        zip_code: zip_code
    }
    $.ajax({
        url: '/member/visa-apply/',
        type: 'POST',
        dataType: 'json',
        data: params,
        success: function(resp) {
            if (resp.c == 0) {
                alert('申请成功')
                location.reload();
            } else {
                alert(resp.m);
            }
        }
    });
}
</script>
{% endblock %}